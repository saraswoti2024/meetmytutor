{% load static %}
<nav class="bg-yellow-400 sticky top-0 z-50 shadow-md">
  <div class="container mx-auto px-4 py-3 flex justify-between items-center">

    <!-- Logo -->
    <a href="{% url 'home' %}" class="flex items-center">
      <img src="{% static 'images/MeetMyTutor.png' %}" alt="MeetMyTutor Logo" class="h-16 -ml-6" />
    </a>

    <!-- Navigation Menu -->
    <div class="hidden lg:flex items-center space-x-8">

      <a href="{% url 'home' %}" class="text-gray-900 hover:text-white font-bold text-lg transition">Home</a>

      <!-- Dropdown Start -->
      <div class="relative" id="findTutorsDropdownWrapper">
        <button
          id="findTutorsDropdownBtn"
          type="button"
          class="text-gray-900 hover:text-white font-bold text-lg inline-flex items-center transition focus:outline-none"
          aria-haspopup="true"
          aria-expanded="false"
        >
          Find Tutors
          <svg
            class="ml-2 h-5 w-5"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </button>

        <div
          id="findTutorsDropdown"
          class="hidden absolute bg-yellow-500 rounded-md shadow-lg mt-2 w-48 z-50"
          role="menu"
          aria-label="Find Tutors submenu"
        >
          <a href="{% url 'all_tutor' %}" class="block px-5 py-3 text-white hover:bg-yellow-600 transition rounded-t-md" role="menuitem">All Tutors</a>
          <a href="{% url 'nearby_tutor' %}" class="block px-5 py-3 text-white hover:bg-yellow-600 transition rounded-b-md" role="menuitem">Nearby Tutors</a>
        </div>
      </div>
      <!-- Dropdown End -->

      <a href="{% url 'contact' %}" class="text-gray-900 hover:text-white font-bold text-lg transition">Contact</a>

      <!-- Buttons -->
      <a href="{% url 'log_in' %}" class="px-6 py-2 border-2 border-gray-900 text-gray-900 rounded-full hover:bg-gray-900 hover:text-white font-bold text-lg transition">Login</a>
      <a href="{% url 'register' %}" class="px-6 py-2 bg-gray-900 text-white rounded-full hover:bg-gray-800 font-bold text-lg transition">Register</a>

    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const btn = document.getElementById('findTutorsDropdownBtn');
      const menu = document.getElementById('findTutorsDropdown');

      btn.addEventListener('click', (e) => {
        e.stopPropagation(); // prevent event bubbling to document
        menu.classList.toggle('hidden');
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
      });

      // Close dropdown if clicked outside
      document.addEventListener('click', () => {
        if (!menu.classList.contains('hidden')) {
          menu.classList.add('hidden');
          btn.setAttribute('aria-expanded', 'false');
        }
      });
    });
  </script>
</nav>
