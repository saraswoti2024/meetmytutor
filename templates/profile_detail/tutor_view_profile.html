{% extends "base.html" %}
{% block content %}
{% load static %}

<main class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-7xl">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12 bg-white rounded-xl shadow-lg p-6 sm:p-8 lg:p-10">
        <div class="lg:col-span-1 flex flex-col items-center lg:items-start text-center lg:text-left">
            <div class="w-full max-w-xs lg:max-w-none">
                {% if profile_id.profile_img %}
                <img src="{{profile_id.profile_img.url}}" alt="Tutor Profile Picture"
                class="w-48 h-48 sm:w-56 sm:h-56 lg:w-full lg:h-auto rounded-full lg:rounded-xl object-cover shadow-md mx-auto lg:mx-0">
                  {% else %}
                  <img src="{% static 'images/default.jpg' %}" alt="Tutor Profile Picture"
                  class="w-48 h-48 sm:w-56 sm:h-56 lg:w-full lg:h-auto rounded-full lg:rounded-xl object-cover shadow-md mx-auto lg:mx-0">
                {% endif %}
              
                <div class="tutor-info mt-6 lg:mt-8">
                    <h1 class="text-2xl sm:text-3xl font-extrabold text-gray-900 leading-tight">{{profile_id.user.first_name}} {{profile_id.user.last_name}}</h1>

                    <div class="flex flex-col items-center lg:items-start space-y-2 mt-4 text-gray-700">
                        <span class="flex items-center text-base sm:text-lg">
                            <i class="bi bi-geo-alt-fill text-gray-600 mr-2"></i> {{profile_id.district}}, Nepal
                        </span>
                        <span class="flex items-center text-base sm:text-lg">
                            <i class="bi bi-star-fill text-amber-500 mr-2"></i> 4.7 (85 Reviews)
                        </span>
                        <span class="flex items-center text-base sm:text-lg">
                            <i class="bi bi-currency-dollar text-green-700 mr-2"></i> NPR {{profile_id.session_price}}/hr
                        </span>
                    </div>

                    <a href="request_tutor.html"
                        class="mt-8 inline-flex items-center justify-center px-8 py-4 text-lg font-bold rounded-full bg-amber-500 text-gray-900 hover:bg-amber-600 focus:outline-none focus:ring-4 focus:ring-amber-300 transition duration-300 ease-in-out shadow-lg transform hover:scale-105">
                        <i class="bi bi-chat-dots mr-3 text-xl"></i> Send Tutoring Request
                    </a>
                </div>
            </div>
        </div>

        <div class="lg:col-span-2 space-y-8">

            <div class="tutor-section p-6 bg-yellow-50 rounded-lg shadow-sm border border-yellow-100">
                <h3 class="text-2xl font-bold text-gray-800 flex items-center mb-4">
                    <i class="bi bi-info-circle-fill text-amber-600 mr-3 text-2xl"></i> About Me
                </h3>
                <p class="text-gray-700 leading-relaxed mb-4">
                    {{profile_id.desc}}
                </p>
            </div>

            <div class="tutor-section p-6 bg-yellow-50 rounded-lg shadow-sm border border-yellow-100">
                <h3 class="text-2xl font-bold text-gray-800 flex items-center mb-4">
                    <i class="bi bi-book-fill text-amber-600 mr-3 text-2xl"></i> Subjects & Levels
                </h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                    {% for education_entry in profile_id.education_data %}
                        <div>
                            <div class="level-section">
                                <h5 class="text-xl font-semibold text-gray-800 mb-3">{{ education_entry.level}}</h5>
                                <ul class="list-disc list-inside space-y-2 text-gray-700 pl-4">
                                    {% for subject in education_entry.subjects %}
                                        <li>{{ subject }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                        {% if not forloop.last %}
                            <hr class="my-4 sm:hidden border-yellow-200">
                        {% endif %}
                    {% empty %}
                        <p class="text-gray-600 col-span-full">No subjects or levels specified by this tutor yet.</p>
                    {% endfor %}
                </div>
                </div>

            <div class="tutor-section p-6 bg-yellow-50 rounded-lg shadow-sm border border-yellow-100">
                <h3 class="text-2xl font-bold text-gray-800 flex items-center mb-4">
                    <i class="bi bi-chat-right-text-fill text-amber-600 mr-3 text-2xl"></i> Reviews
                </h3>

                <div class="space-y-6">
                    <div class="review-item bg-white p-5 rounded-lg shadow-md border border-yellow-200">
                        <div class="flex items-center justify-between mb-3 flex-wrap">
                            <span class="review-author font-semibold text-lg text-gray-800">Bishal Gurung</span>
                            <div class="review-rating flex items-center text-amber-500 text-lg ml-auto sm:ml-0">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <span class="ml-2 text-gray-600 text-base">(5.0)</span>
                            </div>
                        </div>
                        <p class="review-text text-gray-700 leading-relaxed italic">
                            "Sagar Sir is an exceptional tutor! He made complex physics concepts
                            easy to understand. My grades have improved significantly since I started taking classes
                            with him."
                        </p>
                    </div>

                </div>
            </div>

        </div>

    </div>
</main>
{% endblock content %}